name = "austinmovefinder"
compatibility_date = "2024-07-22"

[env.production.pages]
custom_domains = ["austinmovefinder.com", "www.austinmovefinder.com"]

# Optional: Configure custom domain settings
[env.production]
vars = { ENVIRONMENT = "production" }

# Build configuration
[[build]]
command = "npm run build"
cwd = "."
watch_dir = "src"

# Asset configuration
[assets]
directory = "dist"
binding = "ASSETS"

# Header rules for optimization
[[headers]]
for = "/**"
[headers.values]
"X-Frame-Options" = "DENY"
"X-Content-Type-Options" = "nosniff"
"Referrer-Policy" = "strict-origin-when-cross-origin"
"Permissions-Policy" = "camera=(), microphone=(), geolocation=()"

# Cache static assets
[[headers]]
for = "/assets/*"
[headers.values]
"Cache-Control" = "public, max-age=31536000, immutable"

# SEO and performance headers
[[headers]]
for = "/"
[headers.values]
"Cache-Control" = "public, max-age=300"